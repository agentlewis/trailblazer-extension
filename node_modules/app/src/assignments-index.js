/** @jsx React.DOM */

var React 			= require('react');


var AssignmentItem	= require('app/components/assignment-item');

var _ = require('lodash');


console.log('AssignmentItem', AssignmentItem);

/**
 * The Assignments Index view.
 *
 * Renders a list of <AssignmentItem> elements
 */
module.exports = React.createClass({

  render: function () {
    var state = this.props.state.toJS();
    console.log('state', state)
    var assignmentState = this.props.state.get('assignmentState').toJS();
    var assignmentsIndex = assignmentState.assignmentsIndex;

    var items = Object.keys(assignmentsIndex).map(function (key) { return assignmentsIndex[key] });

    console.log('items', items)
    var assignments = items.map(function (assignment) {
      console.log(assignment, this.props.select)
      return <AssignmentItem item={assignment} key={assignment.id} select={this.props.select}/>
    }.bind(this));

    console.log('assignments', assignments)

    return <ul>{assignments}</ul>;
  },


  shouldComponentUpdate: function (nextProps) {
    //NOTE use this method to test if state has mutated
    // if (nextProps.state.assignmentState === this.props.state.assignmentState) {
    //   return false;
    // } else {
    //   return true;
    // }

    return true;
  }



});



      // nodeState: Map
        // loading: Boolean
        // error: String
        // nodeIndex: Map
      // assignmentState: Map
      //   loading: Boolean
      //   error: String
      //   assignmentsIndex: Map
      //   currentAssignment: Integer



