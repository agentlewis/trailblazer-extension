/** @jsx React.DOM */

var React 			= require('react');
var AssignmentItem	= require('app/components/assignment-item');

var _ = require('lodash');

/**
 * The Assignments Index view.
 *
 * Renders a list of <AssignmentItem> elements
 */
module.exports = React.createClass({

  render: function () {
    var assignmentState = this.props.state.get('assignmentState').toJS();
    var assignmentsIndex = assignmentState.assignmentsIndex;

    var data = Object.keys(assignmentsIndex).map(function (key) { return assignmentsIndex[key] });
    var assignments = data.map(function (assignment) {
      console.log(assignment, this.props.select)
      return <AssignmentItem item={assignment} key={assignment.id} select={this.props.select}/>
    }.bind(this));

    return <ul>{assignments}</ul>;
  },


  shouldComponentUpdate: function (nextProps) {
    //NOTE use this method to test if state has mutated
    // if (nextProps.state.assignmentState === this.props.state.assignmentState) {
    //   return false;
    // } else {
    //   return true;
    // }

    return true;
  }



});



      // nodeState: Map
        // loading: Boolean
        // error: String
        // nodeIndex: Map
      // assignmentState: Map
      //   loading: Boolean
      //   error: String
      //   assignmentsIndex: Map
      //   currentAssignment: Integer



